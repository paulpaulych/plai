# PLAI - Веб-платформа для программируемых интерактивных мини-игр

## Обзор

В настоящее время программирование в области искусственного интеллекта
обретает всё большую популярность.
Для обеспечения возможности соревнования профессионалов в общих условиях предлагается разработать
веб-платформу для программируемых интерактивных мини-игр.
- **Программируемые** - значит, что один или несколько игровых юнитов управляются с помощью программного кода,
  реализованного пользователем
- Свойство **интерактивности** состоит в том, что пользовательский код принимает решения,
  основываясь на текущем состоянии матча(игры) и истории изменений этого состояния, а также возможно на результатах предыдущих матчей. Механизм взаимодействия:
    - Игра изменяет состояние вследствие начала нового хода/действиях других игроков
    - Игра обращается к пользовательскому коду, передавая ему своё текущее состояние
    - Пользовательский код принимает решение о дальнейших действиях в игре

## Глоссарий

**Матч ()** - TODO: pod или какое-нибудь другое словечко помоднее

**Сессия (Session)** - Несколько матчей, запущенных подряд с одинаковым набором стратегий

**Решение(Solution)/Стратегия(Strategy)** -

**Владелец(Owner) стратегии** - пользователь, реализовавший стратегию

**Консольное приложение (КП)(CLI)** - plai-cli. Позволяет управлять стратегиями пользователя: разработка, загрузка, версионирование

## Предполагаемое решение

Система представляет собой клиент-серверное веб-приложение.

## Основные варианты использования(перечисление):

1. Регистрация и авторизация через сторонние сервисы(Google, GitHub)
2. Выбор игры.
   Пока планируется две игры: Змейка и Перекрестный кросс.
    * Змейка - игра с простой логикой и несложная в реализации.
    * Перекрестный кросс: игра нацеленная на программирование коллективных стратегий
3. Выбор языка программирования и оправка решения.    
   Решение будет отправляться в виде исполняемых файлов для разных платформ(в зависимости от языка программиирования)
   и запускаться в подготовленном контейнере на базе Docker.
   Это обеспечит безопасность запуска пользовательского кода на сервере.
   Варианты загрузки решений:
    1. По видам файлов
        * Исходный код
        * Исполняемые файлы и скрипты запуска
    2. По способу загрузки:
        * Через веб-интерфейс
        * Через приложение командной строки

4. Запуск игры

   Пользователь может выбрать одну или несколько уже загруженных из своих или чужих стратегий
   и поставить игру в очередь на запуск.
   Пользовательское решение взаимодействует с Игрой(TODO):
   * по стандартным потокам ввода/вывода
   * по стандартным сетевым протоколам
   Оба варианта обеспечат независимость игры от платформы исполнения пользовательского кода и позволит реализовывать
   стратегии на разных языках программирования.
   Запущенная игра сохраняет в файл специального формата историю изменения своего состояния.

5. Вопроизведение игры.

   Игра может быть воспроизведена в пользовательском интерфейсе по сохраненной истории изменений ее состояния.

## Нефункциональные требования:

1. Горизонтальное масштабирование.

   Система должна быть устойчива к увеличению числа узлов на которых она функционирует.
   Особенно это касается модуля, в котором запускаются игры
2. Очередь игр должна быть устройчива к сбоям и перезагрузке системы

## CLI
1. Инициализация проекта
    * логин
    * конфигурация
        * выбор языка
        * скрипты запуска
        * выбор игры
1. Разработка
    * локальный запуск
    * локальный запуск чужих стратегий??
    * отладка, просмотр логов
1. Загрузка решения
    * загрузка решения
    * управление версиями?
1. Открытие веб-интерфейса

## Веб-интерфейс

1. регистрация/авторизация
    * email/login/пароль
    * oauth
2. Управление профилем
    * фото
3. Игры
    * Выбор игры
        * коллективная/одиночная
        * по популярности
    * Документация для игры
        * Правила
        * Физика/механика
        * API
4. Скачивание/установка CLI
5. Документация
    * Getting Started
    * О системе: взаимодействие компонент, игра, стратегий

## Игры

1. Игры
    * Для одной стратегии
        * Задачки?
        * На счет
        * На время
    * Для нескольких стратегий
        * Каждый сам за себя
        * Командные

2. Стратегии
    * Single player
    * Multiplayer(каждый сам за себя)
    * Cooperative
